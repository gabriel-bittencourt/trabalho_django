{% extends "base.html" %}

{% load static %}

{% block titulo %}
    {{produto.subCategoria.nome}} {{produto.nome}}
{% endblock %}

{% block customStyles %}
<link href="{% static 'produto/css/item.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}

<div class="container py-3 px-md-5 bg-white">

        <div class="row mx-md-4 mx-sm-0 p-lg-0 py-md-1 py-sm-0 ">

            <div class="col-lg-5 col-md-6 col-sm-12 px-5 pt-3 d-flex justify-content-center">
                <img class="card-img-top img-fluid" style="height: 700px; width: 230px;" alt="" 
                    src="{% static 'produto/images/' %}{{ produto.imagem }}">
            </div>

            <div class="col-lg-7 col-md-6 col-sm-12">

                <div class="card-body">
                    <h3 class="card-title" id="itemName">{{produto.subCategoria.nome}} {{produto.nome}}</h3>
                    <h4 class="mb-4">{{produto.marca}}</h4>
                    <h4 id="itemPrice">$ {{produto.preco}}</h4>
                    <p id="itemDescription" class="card-text">
                        {{produto.descricao}}
                    </p>
                    <div class="row">
                        <a class="nav-link a-btn-like" href="#">
                            <span id="nLikes">25</span>
                            <i id="btn-like" class="far fa-thumbs-up btn-like" onclick="like(this, true)" status="false"
                                type="like">
                            </i>
                        </a>
                        <a class="nav-link a-btn-like" href="#">
                            <i id="btn-dislike" class="far fa-thumbs-down btn-like" onclick="like(this, false)"
                                status="false" type="dislike">
                            </i>
                            <span id="nDislikes">3</span>
                        </a>
                    </div>
                    <!-- <i class="fas fa-thumbs-down"></i> -->

                </div>
                <div class="container d-flex flex-row justify-content-between p-3">
                    <button type="button" class="buy-now-btn w-50 mr-4">
                        <span>Buy Now</span>
                    </button>
                    <button type="button" class="add-cart-btn w-50 ">
                        <span>Add to Cart</span>
                    </button>
                </div>

            </div>

        </div>

        <div class="col-lg-12 px-5">


            <!-- /.card -->

            <div class="card card-outline-secondary my-4">
                <div class="card-header">
                    Product Reviews
                </div>
                <div class="card-body">
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam inventore,
                        similique necessitatibus neque non! Doloribus, modi sapiente laboriosam aperiam fugiat laborum.
                        Sequi mollitia, necessitatibus quae sint natus.</p>
                    <small class="text-muted">Posted by Anonymous on 01/01/19</small>
                    <hr>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam inventore,
                        similique necessitatibus neque non! Doloribus, modi sapiente laboriosam aperiam fugiat laborum.
                        Sequi mollitia, necessitatibus quae sint natus.</p>
                    <small class="text-muted">Posted by Anonymous on 01/01/19</small>
                    <hr>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam inventore,
                        similique necessitatibus neque non! Doloribus, modi sapiente laboriosam aperiam fugiat laborum.
                        Sequi mollitia, necessitatibus quae sint natus.</p>
                    <small class="text-muted">Posted by Anonymous on 01/01/19</small>
                    <hr>
                    <button type="button" class="add-cart-btn">
                        <span>Leave a review</span>
                    </button>
                </div>
            </div>
            <!-- /.card -->

        </div>

    </div>
    <!-- /.container -->

{% block customScript %}
    <script>

        function like(elem, likeOrDislike) {
            let btn, btn_c;
            let n, n_o;

            if (likeOrDislike) {
                btn = $('#btn-like'); n = $('#nLikes');
                btn_c = $('#btn-dislike'); n_o = $('#nDislikes');
            } else {
                btn_c = $('#btn-like'); n_o = $('#nLikes');;
                btn = $('#btn-dislike'); n = $('#nDislikes');
            }

            if (btn.attr('status') == 'true') {
                btn.attr('status', 'false').removeClass('fas').addClass('far');
                n.html(parseInt(n.html()) - 1);
            } else {
                if ( btn_c.attr('status') == 'true' )
                    like(btn_c, !likeOrDislike );
                
                btn.attr('status', 'true').removeClass('far').addClass('fas');
                n.html(parseInt(n.html()) + 1);
            }

        }

    </script>
{% endblock %}

{% endblock %}
